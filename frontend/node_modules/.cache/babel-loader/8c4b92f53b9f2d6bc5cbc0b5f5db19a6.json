{"ast":null,"code":"var _jsxFileName = \"C:\\\\React_project\\\\EduTest\\\\frontend\\\\src\\\\components\\\\admin\\\\Options\\\\newoptions.js\";\nimport React, { Component } from 'react'; // import './newdivision.css';\n\nimport { Form, Input, Button, Select, Checkbox, Modal, Row, Col } from 'antd';\nimport { SecurePost } from '../../../services/axiosCall';\nimport apis from '../../../services/Apis';\nimport { connect } from 'react-redux';\nimport { ChangeOptionConfirmDirty, ChangeOptionModalState, ChangeOptionTableData } from '../../../actions/trainerAction';\nimport auth from '../../../services/AuthServices';\nimport Alert from '../../../components/common/alert';\nconst Option = Select.Option;\n\nclass NewOption extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.form.validateFieldsAndScroll((err, values) => {\n        if (!err) {\n          console.log('Полученные значения формы: ', values);\n          SecurePost({\n            url: \"\".concat(apis.CREATE_OPTION),\n            data: {\n              _id: this.props.admin.optionId,\n              optbody: values.optbody,\n              isAnswer: values.isAnswer,\n              question: values.question\n            }\n          }).then(response => {\n            if (response.data.success) {\n              this.props.ChangeDivisionModalState(false, null, 'Регистрация');\n              Alert('success', 'Успешно', response.data.message);\n              this.props.ChangeDivisionTableData();\n            } else {\n              console.log(response.data);\n              this.props.ChangeDivisionModalState(false, null, 'Регистрация');\n              return Alert('warning', 'Предупреждение!', response.data.message);\n            }\n          }).catch(error => {\n            this.props.ChangeDivisionModalState(false, null, 'Регистрация');\n            return Alert('error', 'Ошибка!', 'Ошибка сервера');\n          });\n        }\n      });\n    };\n\n    this.state = {\n      questionId: null\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"Options props\", this.props);\n    this.setState({\n      questionId: this.props.trainer.questionId\n    });\n  }\n\n  render() {\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    const TextArea = Input.TextArea;\n    return React.createElement(\"div\", {\n      className: \"register-division-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"register-division-form-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Row, {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Col, {\n      offset: 1,\n      span: 13,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u0412\\u0430\\u0440\\u0438\\u0430\\u043D\\u0442\",\n      hasFeedback: true,\n      className: \"input-admin-division\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, getFieldDecorator('optbody', {\n      initialValue: this.props.trainer.optiondetails.optbody,\n      rules: [{\n        required: true,\n        message: 'Пожалуйста, введите название подразделения!',\n        whitespace: true\n      }]\n    })(React.createElement(TextArea, {\n      rows: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      span: 2,\n      style: {\n        padding: '55px 10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Checkbox, {\n      checked: this.props.trainer.optiondetails.isAnswer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  admin: state.admin,\n  trainer: state.trainer\n});\n\nconst NewOptionForm = Form.create({\n  name: 'newOption'\n})(NewOption);\nexport default connect(mapStateToProps, {\n  ChangeOptionConfirmDirty,\n  ChangeOptionModalState,\n  ChangeOptionTableData\n})(NewOptionForm);","map":{"version":3,"sources":["C:\\React_project\\EduTest\\frontend\\src\\components\\admin\\Options\\newoptions.js"],"names":["React","Component","Form","Input","Button","Select","Checkbox","Modal","Row","Col","SecurePost","apis","connect","ChangeOptionConfirmDirty","ChangeOptionModalState","ChangeOptionTableData","auth","Alert","Option","NewOption","constructor","props","handleSubmit","e","preventDefault","form","validateFieldsAndScroll","err","values","console","log","url","CREATE_OPTION","data","_id","admin","optionId","optbody","isAnswer","question","then","response","success","ChangeDivisionModalState","message","ChangeDivisionTableData","catch","error","state","questionId","componentDidMount","setState","trainer","render","getFieldDecorator","TextArea","initialValue","optiondetails","rules","required","whitespace","padding","mapStateToProps","NewOptionForm","create","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n// import './newdivision.css';\r\nimport {\r\n    Form,\r\n    Input,\r\n    Button,\r\n    Select,\r\n    Checkbox,\r\n    Modal,\r\n    Row,\r\n    Col\r\n} from 'antd';\r\nimport {SecurePost} from '../../../services/axiosCall';\r\nimport apis from '../../../services/Apis';\r\nimport { connect } from 'react-redux';\r\nimport { \r\n    ChangeOptionConfirmDirty,\r\n    ChangeOptionModalState,\r\n    ChangeOptionTableData\r\n} from '../../../actions/trainerAction';\r\nimport auth from '../../../services/AuthServices';\r\nimport Alert from '../../../components/common/alert';\r\nconst { Option } = Select;\r\nclass NewOption extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            questionId : null,\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        console.log(\"Options props\", this.props);\r\n        this.setState({\r\n            questionId:this.props.trainer.questionId\r\n        });\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.form.validateFieldsAndScroll((err, values) => {\r\n            if (!err) {\r\n                console.log('Полученные значения формы: ', values);\r\n                \r\n                    SecurePost({\r\n                        url : `${apis.CREATE_OPTION}`,\r\n                        data : {\r\n                            _id : this.props.admin.optionId,\r\n                            optbody : values.optbody,                            \r\n                            isAnswer : values.isAnswer,\r\n                            question : values.question\r\n                        }\r\n                    }).then((response)=>{\r\n                        if(response.data.success){\r\n                            this.props.ChangeDivisionModalState(false,null,'Регистрация');\r\n                            Alert('success','Успешно',response.data.message);\r\n                            this.props.ChangeDivisionTableData();\r\n                        }\r\n                        else{\r\n                            console.log(response.data);\r\n                            this.props.ChangeDivisionModalState(false,null,'Регистрация');\r\n                            return Alert('warning','Предупреждение!',response.data.message);\r\n                        }\r\n                    }).catch((error)=>{\r\n                        this.props.ChangeDivisionModalState(false,null,'Регистрация');\r\n                        return Alert('error','Ошибка!','Ошибка сервера');\r\n                    })\r\n                \r\n            }\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        const { TextArea } = Input;\r\n        return (\r\n            <div className=\"register-division-form\">\r\n                <div className=\"register-division-form-body\">\r\n                    <Form  onSubmit={this.handleSubmit}>\r\n                        <Row className=\"\">\r\n                            <Col offset={1} span={13}>\r\n                                <Form.Item label=\"Вариант\" hasFeedback className=\"input-admin-division\">\r\n                                {getFieldDecorator('optbody', {\r\n                                    initialValue : this.props.trainer.optiondetails.optbody,\r\n                                    rules: [{ required: true, message: 'Пожалуйста, введите название подразделения!', whitespace: true }],\r\n                                })(<TextArea rows={2} />)}\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col span={2} style={{padding : '55px 10px'}}>\r\n                                <Form.Item>\r\n                                    <Checkbox checked={this.props.trainer.optiondetails.isAnswer} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    admin : state.admin,\r\n    trainer : state.trainer,\r\n});\r\n\r\nconst NewOptionForm = Form.create({ name: 'newOption' })(NewOption);\r\n\r\nexport default connect(mapStateToProps,{\r\n    ChangeOptionConfirmDirty,\r\n    ChangeOptionModalState,\r\n    ChangeOptionTableData\r\n})(NewOptionForm);\r\n\r\n"]},"metadata":{},"sourceType":"module"}