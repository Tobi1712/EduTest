{"ast":null,"code":"import _slicedToArray from \"C:\\\\React_project\\\\EduTest\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\React_project\\\\EduTest\\\\frontend\\\\src\\\\components\\\\customer\\\\Testing\\\\result.js\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { ChangeAnswersSearchText, ChangeAnswersTableData } from '../../../actions/chapterAction';\n\nconst axios = require('axios');\n\nfunction Result(props) {\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        result = _useState2[0],\n        setResult = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isLoading = _useState4[0],\n        setLoading = _useState4[1];\n\n  const _useState5 = useState(),\n        _useState6 = _slicedToArray(_useState5, 2),\n        details = _useState6[0],\n        setDetails = _useState6[1];\n\n  const _useState7 = useState(null),\n        _useState8 = _slicedToArray(_useState7, 2),\n        data = _useState8[0],\n        setData = _useState8[1]; // props.ChangeAnswersTableData(props.mid);\n\n\n  useEffect(() => {\n    // props.ChangeAnswersTableData(props.mid);\n    // console.log('SDFV',props.chapter.AnswerTableData)\n    // props.chapter.AnswerTableData.length===0 ? \n    // setLoading(true) : setLoading(false)\n    fetch('/api').then(response => response.json()).then(response => setData(response.message));\n\n    if (!data) {\n      return 'Loading...';\n    } else {\n      console.log(props.chapter.AnswerTableData);\n      var questions1 = [];\n      var nota = [];\n      var noua = [];\n      var s = props.chapter.AnswerTableData[0].chosenOption.length;\n      props.chapter.AnswerTableData[0].chosenOption.map((d, i) => {\n        nota[i] = d.options[0].isAnswer + d.options[1].isAnswer + d.options[2].isAnswer + d.options[3].isAnswer + d.options[4].isAnswer;\n        noua[i] = (d.options[0].userAnswer && d.options[0].isAnswer) + (d.options[1].userAnswer && d.options[1].isAnswer) + (d.options[2].userAnswer && d.options[2].isAnswer) + (d.options[3].userAnswer && d.options[3].isAnswer) + (d.options[4].userAnswer && d.options[4].isAnswer);\n      });\n      console.log(\"Number of the true answer\", nota);\n      console.log(\"Number of the user answer\", noua);\n      var a = 0;\n      props.chapter.AnswerTableData[0].chosenOption.map((d, i) => {\n        a += noua[i] / nota[i] * 100;\n      });\n      setResult(a / s);\n    } // console.log(\"1 - props\",props.answerDetails[0]);\n    // //var questions1=[];\n    // var nota = [];\n    // var noua = [];\n    // var s = props.answerDetails[0].chosenOption.length;\n    // props.answerDetails[0].chosenOption.map((d,i)=>{\n    //     nota[i] = (d.options[0].isAnswer + d.options[1].isAnswer + d.options[2].isAnswer + d.options[3].isAnswer + d.options[4].isAnswer)\n    //     noua[i] = ((d.options[0].userAnswer && d.options[0].isAnswer) + \n    //                (d.options[1].userAnswer && d.options[1].isAnswer) + \n    //                (d.options[2].userAnswer && d.options[2].isAnswer) + \n    //                (d.options[3].userAnswer && d.options[3].isAnswer) + \n    //                (d.options[4].userAnswer && d.options[4].isAnswer));\n    //     })\n    // console.log(\"Number of the true answer\", nota)\n    // console.log(\"Number of the user answer\", noua)\n    // var a=0;\n    // props.answerDetails[0].chosenOption.map((d,i)=>{\n    //     a+=(noua[i] / nota[i]) * 100;\n    // })\n    // setResult(a/s);\n\n  }, [props.mid]);\n\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Loading...\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B \\u0442\\u0435\\u0441\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u043E\\u0432: 3\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"\\u041F\\u0440\\u043E\\u0446\\u0435\\u043D\\u0442 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0445 \\u043E\\u0442\\u0432\\u0435\\u0442\\u043E\\u0432: \", Math.round(result)));\n}\n\nconst mapStateToProps = state => ({\n  chapter: state.chapter\n});\n\nexport default connect(mapStateToProps, {\n  ChangeAnswersSearchText,\n  ChangeAnswersTableData\n})(Result);","map":{"version":3,"names":["React","useState","useEffect","connect","ChangeAnswersSearchText","ChangeAnswersTableData","axios","require","Result","props","result","setResult","isLoading","setLoading","details","setDetails","data","setData","fetch","then","response","json","message","console","log","chapter","AnswerTableData","questions1","nota","noua","s","chosenOption","length","map","d","i","options","isAnswer","userAnswer","a","mid","Math","round","mapStateToProps","state"],"sources":["C:/React_project/EduTest/frontend/src/components/customer/Testing/result.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { \r\n    ChangeAnswersSearchText,\r\n    ChangeAnswersTableData,\r\n  } from '../../../actions/chapterAction';\r\n  const axios = require('axios');\r\n\r\nfunction Result(props) {\r\n    const [result, setResult] = useState(0);\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [details, setDetails] = useState();\r\n    const [data, setData] = useState(null)\r\n    // props.ChangeAnswersTableData(props.mid);\r\n    useEffect(()=>{\r\n        // props.ChangeAnswersTableData(props.mid);\r\n        // console.log('SDFV',props.chapter.AnswerTableData)\r\n        // props.chapter.AnswerTableData.length===0 ? \r\n        // setLoading(true) : setLoading(false)\r\n        fetch('/api')\r\n        .then(response=>response.json())\r\n        .then(response=>setData(response.message))\r\n\r\n\r\n        if(!data){\r\n            return 'Loading...'\r\n        }\r\n        else{\r\n            console.log(props.chapter.AnswerTableData)\r\n            var questions1 = [];\r\n            var nota = [];\r\n            var noua = [];\r\n            var s = props.chapter.AnswerTableData[0].chosenOption.length;\r\n            props.chapter.AnswerTableData[0].chosenOption.map((d,i)=>{\r\n                nota[i] = (d.options[0].isAnswer + d.options[1].isAnswer + d.options[2].isAnswer + d.options[3].isAnswer + d.options[4].isAnswer)\r\n                noua[i] = ((d.options[0].userAnswer && d.options[0].isAnswer) + \r\n                        (d.options[1].userAnswer && d.options[1].isAnswer) + \r\n                        (d.options[2].userAnswer && d.options[2].isAnswer) + \r\n                        (d.options[3].userAnswer && d.options[3].isAnswer) + \r\n                        (d.options[4].userAnswer && d.options[4].isAnswer));\r\n                })\r\n            console.log(\"Number of the true answer\", nota)\r\n            console.log(\"Number of the user answer\", noua)\r\n            var a=0;\r\n            props.chapter.AnswerTableData[0].chosenOption.map((d,i)=>{\r\n                a+=(noua[i] / nota[i]) * 100;\r\n            })\r\n            setResult(a/s);\r\n        }\r\n\r\n\r\n        // console.log(\"1 - props\",props.answerDetails[0]);\r\n        // //var questions1=[];\r\n        // var nota = [];\r\n        // var noua = [];\r\n        // var s = props.answerDetails[0].chosenOption.length;\r\n        // props.answerDetails[0].chosenOption.map((d,i)=>{\r\n        //     nota[i] = (d.options[0].isAnswer + d.options[1].isAnswer + d.options[2].isAnswer + d.options[3].isAnswer + d.options[4].isAnswer)\r\n        //     noua[i] = ((d.options[0].userAnswer && d.options[0].isAnswer) + \r\n        //                (d.options[1].userAnswer && d.options[1].isAnswer) + \r\n        //                (d.options[2].userAnswer && d.options[2].isAnswer) + \r\n        //                (d.options[3].userAnswer && d.options[3].isAnswer) + \r\n        //                (d.options[4].userAnswer && d.options[4].isAnswer));\r\n        //     })\r\n        // console.log(\"Number of the true answer\", nota)\r\n        // console.log(\"Number of the user answer\", noua)\r\n        // var a=0;\r\n        // props.answerDetails[0].chosenOption.map((d,i)=>{\r\n        //     a+=(noua[i] / nota[i]) * 100;\r\n        // })\r\n        // setResult(a/s);\r\n    }, [props.mid])\r\n\r\n    if (isLoading) {\r\n        return <div className=\"App\">Loading...</div>;\r\n    }\r\n\r\n    return(\r\n        \r\n        <div>\r\n            <h3>Результаты тестирование</h3>\r\n            <h3>Количество вопросов: 3</h3>\r\n            <h3>Процент правильных ответов: {Math.round(result)}</h3>\r\n            {/* <h3>Количество вопросов: {props.answerDetails[0].chosenOption.length}</h3>\r\n            <h3>Процент правильных ответов: {Math.round(result)}</h3> */}\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    chapter : state.chapter\r\n});\r\n\r\nexport default connect(mapStateToProps,{\r\n    ChangeAnswersSearchText,\r\n    ChangeAnswersTableData\r\n})(Result);"],"mappings":"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"},"metadata":{},"sourceType":"module"}