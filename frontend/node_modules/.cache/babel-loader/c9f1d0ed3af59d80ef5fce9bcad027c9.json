{"ast":null,"code":"import _slicedToArray from \"C:\\\\React_project\\\\EduTest\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\React_project\\\\EduTest\\\\frontend\\\\src\\\\components\\\\customer\\\\Testing\\\\Counter.js\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport { ChangeTestSearchText, ChangeTestTableData, ChangeTestModalState, ChangeMaterialSearchText, ChangeMaterialTableData, ChangeMaterialModalState } from '../../../actions/chapterAction';\nimport { connect } from 'react-redux'; // import classes from \"./Quiz.module.css\";\n\nfunction Counter(props) {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        time = _useState2[0],\n        setTime = _useState2[1];\n\n  const _useState3 = useState(0),\n        _useState4 = _slicedToArray(_useState3, 2),\n        seconds = _useState4[0],\n        setSeconds = _useState4[1];\n\n  const _useState5 = useState(null),\n        _useState6 = _slicedToArray(_useState5, 2),\n        startDate = _useState6[0],\n        setStartDate = _useState6[1];\n\n  const _useState7 = useState(null),\n        _useState8 = _slicedToArray(_useState7, 2),\n        endDate = _useState8[0],\n        setEndDate = _useState8[1];\n\n  const _useState9 = useState(0),\n        _useState10 = _slicedToArray(_useState9, 2),\n        timer = _useState10[0],\n        setTimer = _useState10[1];\n\n  console.log(props); // constructor() {\n  //   super();\n  //   this.state = { \n  //     time: {}, \n  //     seconds: 0,\n  //     startDate : null,\n  //     endDate: null,\n  //   };\n  //   this.timer = 0;\n  // }\n\n  const secondsToTime = secs => {\n    let hours = Math.floor(secs / (60 * 60));\n    let divisor_for_minutes = secs % (60 * 60);\n    let minutes = Math.floor(divisor_for_minutes / 60);\n    let divisor_for_seconds = divisor_for_minutes % 60;\n    let seconds = Math.ceil(divisor_for_seconds);\n    let obj = {\n      h: hours,\n      m: minutes,\n      s: seconds\n    };\n    return obj;\n  };\n\n  useEffect(() => {\n    props.ChangeTestTableData(props.id);\n    props.ChangeMaterialTableData(props.id);\n    let timeLeftVar = secondsToTime(seconds); // this.setState({ time: timeLeftVar });\n\n    setTime(timeLeftVar); // console.log(\"IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII:\",this.props.chapter.materialTableData)\n\n    props.chapter.materialTableData.map((d, i) => {\n      if (props.id === d._id) {\n        var minutesToAdd = d.duration;\n        var currentDate = new Date();\n        console.log('currentDate', currentDate.getTime());\n        var futureDate = new Date(props.chapter.testTableData.complationDate);\n        console.log(\"futureDate\", futureDate.getTime());\n        setSeconds((futureDate.getTime() - currentDate.getTime()) / 1000);\n        console.log(\"Seconds:\", seconds);\n      }\n    });\n  }, []);\n\n  const startTimer = () => {\n    if (timer == 0 && seconds > 0) {\n      setTimer(setInterval(countDown, 1000));\n    }\n  };\n\n  const countDown = () => {\n    let seconds1 = seconds - 1;\n    setTime(secondsToTime(seconds1));\n    setSeconds(seconds1);\n\n    if (seconds1 == 0) {\n      clearInterval(timer);\n      console.log(\"Time Up\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, startTimer(), /*#__PURE__*/React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, time.h, \" : \", time.m, \" :\", \" \", time.s));\n}\n\nconst mapStateToProps = state => ({\n  chapter: state.chapter,\n  trainer: state.trainer\n});\n\nexport default connect(mapStateToProps, {\n  ChangeTestSearchText,\n  ChangeTestTableData,\n  ChangeTestModalState,\n  ChangeMaterialSearchText,\n  ChangeMaterialTableData,\n  ChangeMaterialModalState\n})(Counter);","map":{"version":3,"names":["React","Component","useState","useEffect","ChangeTestSearchText","ChangeTestTableData","ChangeTestModalState","ChangeMaterialSearchText","ChangeMaterialTableData","ChangeMaterialModalState","connect","Counter","props","time","setTime","seconds","setSeconds","startDate","setStartDate","endDate","setEndDate","timer","setTimer","console","log","secondsToTime","secs","hours","Math","floor","divisor_for_minutes","minutes","divisor_for_seconds","ceil","obj","h","m","s","id","timeLeftVar","chapter","materialTableData","map","d","i","_id","minutesToAdd","duration","currentDate","Date","getTime","futureDate","testTableData","complationDate","startTimer","setInterval","countDown","seconds1","clearInterval","mapStateToProps","state","trainer"],"sources":["C:/React_project/EduTest/frontend/src/components/customer/Testing/Counter.js"],"sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\r\nimport { \r\n  ChangeTestSearchText,\r\n  ChangeTestTableData,\r\n  ChangeTestModalState,\r\n  ChangeMaterialSearchText,\r\n  ChangeMaterialTableData,\r\n  ChangeMaterialModalState,\r\n} from '../../../actions/chapterAction';\r\nimport { connect } from 'react-redux';\r\n// import classes from \"./Quiz.module.css\";\r\n\r\nfunction Counter(props) {\r\n  const [time, setTime] = useState({});\r\n  const [seconds, setSeconds] = useState(0);\r\n  const [startDate, setStartDate] = useState(null);\r\n  const [endDate, setEndDate] = useState(null);\r\n  const [timer, setTimer]=useState(0);\r\n  console.log(props)\r\n\r\n  // constructor() {\r\n  //   super();\r\n  //   this.state = { \r\n  //     time: {}, \r\n  //     seconds: 0,\r\n  //     startDate : null,\r\n  //     endDate: null,\r\n  //   };\r\n  //   this.timer = 0;\r\n  // }\r\n\r\n  const secondsToTime = secs => {\r\n    let hours = Math.floor(secs / (60 * 60));\r\n\r\n    let divisor_for_minutes = secs % (60 * 60);\r\n    let minutes = Math.floor(divisor_for_minutes / 60);\r\n\r\n    let divisor_for_seconds = divisor_for_minutes % 60;\r\n    let seconds = Math.ceil(divisor_for_seconds);\r\n\r\n    let obj = {\r\n      h: hours,\r\n      m: minutes,\r\n      s: seconds\r\n    };\r\n    return obj;\r\n  };\r\n\r\n  useEffect (()=>{\r\n    props.ChangeTestTableData(props.id);\r\n    props.ChangeMaterialTableData(props.id);\r\n    let timeLeftVar = secondsToTime(seconds);\r\n    // this.setState({ time: timeLeftVar });\r\n    setTime(timeLeftVar);\r\n\r\n    // console.log(\"IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII:\",this.props.chapter.materialTableData)\r\n\r\n    props.chapter.materialTableData.map((d, i) =>{\r\n      if(props.id === d._id){\r\n        var minutesToAdd=d.duration;\r\n        var currentDate = new Date();\r\n        console.log('currentDate', currentDate.getTime());\r\n        var futureDate = new Date(props.chapter.testTableData.complationDate);\r\n        console.log(\"futureDate\", futureDate.getTime());\r\n        setSeconds((futureDate.getTime() - currentDate.getTime())/1000);\r\n        console.log(\"Seconds:\",seconds)\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const startTimer = () => {\r\n    if (timer == 0 && seconds > 0) {\r\n      setTimer(setInterval(countDown, 1000));\r\n    }\r\n  };\r\n\r\n  const countDown = () => {\r\n    let seconds1 = seconds - 1;\r\n    \r\n      setTime(secondsToTime(seconds1));\r\n      setSeconds(seconds1);\r\n    if (seconds1 == 0) {\r\n      clearInterval(timer);\r\n      console.log(\"Time Up\");\r\n    }\r\n  };\r\n    return (\r\n      <div>\r\n        {startTimer()}\r\n        <h3>\r\n          {time.h} : {time.m} :{\" \"}\r\n          {time.s}\r\n        </h3>\r\n      </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  chapter : state.chapter,\r\n  trainer : state.trainer\r\n});\r\n\r\nexport default connect(mapStateToProps,{\r\n  ChangeTestSearchText,\r\n  ChangeTestTableData,\r\n  ChangeTestModalState,\r\n  ChangeMaterialSearchText,\r\n  ChangeMaterialTableData,\r\n  ChangeMaterialModalState,\r\n})(Counter);\r\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAsD,OAAtD;AACA,SACEC,oBADF,EAEEC,mBAFF,EAGEC,oBAHF,EAIEC,wBAJF,EAKEC,uBALF,EAMEC,wBANF,QAOO,gCAPP;AAQA,SAASC,OAAT,QAAwB,aAAxB,C,CACA;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;EAAA,kBACEV,QAAQ,CAAC,EAAD,CADV;EAAA;EAAA,MACfW,IADe;EAAA,MACTC,OADS;;EAAA,mBAEQZ,QAAQ,CAAC,CAAD,CAFhB;EAAA;EAAA,MAEfa,OAFe;EAAA,MAENC,UAFM;;EAAA,mBAGYd,QAAQ,CAAC,IAAD,CAHpB;EAAA;EAAA,MAGfe,SAHe;EAAA,MAGJC,YAHI;;EAAA,mBAIQhB,QAAQ,CAAC,IAAD,CAJhB;EAAA;EAAA,MAIfiB,OAJe;EAAA,MAINC,UAJM;;EAAA,mBAKElB,QAAQ,CAAC,CAAD,CALV;EAAA;EAAA,MAKfmB,KALe;EAAA,MAKRC,QALQ;;EAMtBC,OAAO,CAACC,GAAR,CAAYZ,KAAZ,EANsB,CAQtB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAMa,aAAa,GAAGC,IAAI,IAAI;IAC5B,IAAIC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWH,IAAI,IAAI,KAAK,EAAT,CAAf,CAAZ;IAEA,IAAII,mBAAmB,GAAGJ,IAAI,IAAI,KAAK,EAAT,CAA9B;IACA,IAAIK,OAAO,GAAGH,IAAI,CAACC,KAAL,CAAWC,mBAAmB,GAAG,EAAjC,CAAd;IAEA,IAAIE,mBAAmB,GAAGF,mBAAmB,GAAG,EAAhD;IACA,IAAIf,OAAO,GAAGa,IAAI,CAACK,IAAL,CAAUD,mBAAV,CAAd;IAEA,IAAIE,GAAG,GAAG;MACRC,CAAC,EAAER,KADK;MAERS,CAAC,EAAEL,OAFK;MAGRM,CAAC,EAAEtB;IAHK,CAAV;IAKA,OAAOmB,GAAP;EACD,CAfD;;EAiBA/B,SAAS,CAAE,MAAI;IACbS,KAAK,CAACP,mBAAN,CAA0BO,KAAK,CAAC0B,EAAhC;IACA1B,KAAK,CAACJ,uBAAN,CAA8BI,KAAK,CAAC0B,EAApC;IACA,IAAIC,WAAW,GAAGd,aAAa,CAACV,OAAD,CAA/B,CAHa,CAIb;;IACAD,OAAO,CAACyB,WAAD,CAAP,CALa,CAOb;;IAEA3B,KAAK,CAAC4B,OAAN,CAAcC,iBAAd,CAAgCC,GAAhC,CAAoC,CAACC,CAAD,EAAIC,CAAJ,KAAS;MAC3C,IAAGhC,KAAK,CAAC0B,EAAN,KAAaK,CAAC,CAACE,GAAlB,EAAsB;QACpB,IAAIC,YAAY,GAACH,CAAC,CAACI,QAAnB;QACA,IAAIC,WAAW,GAAG,IAAIC,IAAJ,EAAlB;QACA1B,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BwB,WAAW,CAACE,OAAZ,EAA3B;QACA,IAAIC,UAAU,GAAG,IAAIF,IAAJ,CAASrC,KAAK,CAAC4B,OAAN,CAAcY,aAAd,CAA4BC,cAArC,CAAjB;QACA9B,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0B2B,UAAU,CAACD,OAAX,EAA1B;QACAlC,UAAU,CAAC,CAACmC,UAAU,CAACD,OAAX,KAAuBF,WAAW,CAACE,OAAZ,EAAxB,IAA+C,IAAhD,CAAV;QACA3B,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBT,OAAvB;MACD;IACF,CAVD;EAWD,CApBQ,EAoBN,EApBM,CAAT;;EAsBA,MAAMuC,UAAU,GAAG,MAAM;IACvB,IAAIjC,KAAK,IAAI,CAAT,IAAcN,OAAO,GAAG,CAA5B,EAA+B;MAC7BO,QAAQ,CAACiC,WAAW,CAACC,SAAD,EAAY,IAAZ,CAAZ,CAAR;IACD;EACF,CAJD;;EAMA,MAAMA,SAAS,GAAG,MAAM;IACtB,IAAIC,QAAQ,GAAG1C,OAAO,GAAG,CAAzB;IAEED,OAAO,CAACW,aAAa,CAACgC,QAAD,CAAd,CAAP;IACAzC,UAAU,CAACyC,QAAD,CAAV;;IACF,IAAIA,QAAQ,IAAI,CAAhB,EAAmB;MACjBC,aAAa,CAACrC,KAAD,CAAb;MACAE,OAAO,CAACC,GAAR,CAAY,SAAZ;IACD;EACF,CATD;;EAUE,oBACE;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GACG8B,UAAU,EADb,eAEE;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GACGzC,IAAI,CAACsB,CADR,SACctB,IAAI,CAACuB,CADnB,QACwB,GADxB,EAEGvB,IAAI,CAACwB,CAFR,CAFF,CADF;AASH;;AAED,MAAMsB,eAAe,GAAGC,KAAK,KAAK;EAChCpB,OAAO,EAAGoB,KAAK,CAACpB,OADgB;EAEhCqB,OAAO,EAAGD,KAAK,CAACC;AAFgB,CAAL,CAA7B;;AAKA,eAAenD,OAAO,CAACiD,eAAD,EAAiB;EACrCvD,oBADqC;EAErCC,mBAFqC;EAGrCC,oBAHqC;EAIrCC,wBAJqC;EAKrCC,uBALqC;EAMrCC;AANqC,CAAjB,CAAP,CAOZE,OAPY,CAAf"},"metadata":{},"sourceType":"module"}