{"ast":null,"code":"import _slicedToArray from \"C:\\\\React_project\\\\EduTest\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\React_project\\\\EduTest\\\\frontend\\\\src\\\\components\\\\customer\\\\Testing\\\\Counter.js\";\nimport React, { Component, useState, useEffect, useRef } from \"react\";\nimport { ChangeTestSearchText, ChangeTestTableData, ChangeTestModalState, ChangeMaterialSearchText, ChangeMaterialTableData, ChangeMaterialModalState } from '../../../actions/chapterAction';\nimport { connect } from 'react-redux'; // import classes from \"./Quiz.module.css\";\n\nfunction Counter(props) {\n  const Clean = useRef(null);\n\n  const _useState = useState(\"00:00:00\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        timer = _useState2[0],\n        setTimer = _useState2[1];\n\n  const getTimer = e => {\n    var futureDate = new Date(props.chapter.testTableData.complationDate);\n    const total = Date.parse(futureDate) - Date.parse(new Date());\n    const seconds = Math.floor(total / 1000 % 60);\n    const minutes = Math.floor(total / 1000 / 60 % 60);\n    const hours = Math.floor(total / 1000 * 60 * 60 % 24);\n    return {\n      total,\n      seconds,\n      minutes,\n      hours\n    };\n  };\n\n  const initialTimer = e => {\n    const _getTimer = getTimer(e),\n          total = _getTimer.total,\n          hours = _getTimer.hours,\n          minutes = _getTimer.minutes,\n          seconds = _getTimer.seconds;\n\n    if (total >= 0) {\n      setTimer((hours > 9 ? hours : \"0\".concat(hours)).concat(\":\") + (minutes > 9 ? minutes : \"0\".concat(minutes)).concat(\":\") + (seconds > 9 ? seconds : \"0\".concat(seconds)));\n    }\n  };\n\n  const clearTimer = e => {\n    setTimer(\"00:00:00\");\n    if (Clean.current) clearInterval(Clean.current);\n    const id = setInterval(() => {\n      initialTimer(e);\n    }, 1000);\n    Clean.current = id;\n  };\n\n  const getLimite = () => {\n    const Limite = new Date();\n    Limite.setSeconds(Limite.getSeconds());\n    return Limite;\n  };\n\n  useEffect(() => {\n    props.ChangeTestTableData(props.id);\n    props.ChangeMaterialTableData(props.id);\n    clearTimer(getLimite());\n  }, []); // const Reset = () => {\n  //   limparTimer(getLimite());\n  // };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, timer));\n}\n\nconst mapStateToProps = state => ({\n  chapter: state.chapter,\n  trainer: state.trainer\n});\n\nexport default connect(mapStateToProps, {\n  ChangeTestSearchText,\n  ChangeTestTableData,\n  ChangeTestModalState,\n  ChangeMaterialSearchText,\n  ChangeMaterialTableData,\n  ChangeMaterialModalState\n})(Counter); // import React, { Component } from \"react\";\n// import { \n//   ChangeTestSearchText,\n//   ChangeTestTableData,\n//   ChangeTestModalState,\n//   ChangeMaterialSearchText,\n//   ChangeMaterialTableData,\n//   ChangeMaterialModalState,\n// } from '../../../actions/chapterAction';\n// import { connect } from 'react-redux';\n// // import classes from \"./Quiz.module.css\";\n// class Counter extends Component {\n//   constructor() {\n//     super();\n//     this.state = { \n//       time: {}, \n//       seconds: 0,\n//       startDate : null,\n//       endDate: null,\n//     };\n//     this.timer = 0;\n//   }\n//   secondsToTime = secs => {\n//     let hours = Math.floor(secs / (60 * 60));\n//     let divisor_for_minutes = secs % (60 * 60);\n//     let minutes = Math.floor(divisor_for_minutes / 60);\n//     let divisor_for_seconds = divisor_for_minutes % 60;\n//     let seconds = Math.ceil(divisor_for_seconds);\n//     let obj = {\n//       h: hours,\n//       m: minutes,\n//       s: seconds\n//     };\n//     return obj;\n//   };\n//   componentDidMount = () => {\n//     this.props.ChangeTestTableData(this.props.id);\n//     this.props.ChangeMaterialTableData(this.props.id);\n//     let timeLeftVar = this.secondsToTime(this.state.seconds);\n//     this.setState({ time: timeLeftVar });\n//     console.log(\"IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII:\",this.props.chapter.materialTableData)\n//     this.props.chapter.materialTableData.map((d, i) =>{\n//       if(this.props.id === d._id){\n//         var minutesToAdd=d.duration;\n//         var currentDate = new Date();\n//         console.log('currentDate', currentDate);\n//         var futureDate = new Date(this.props.chapter.testTableData.complationDate);\n//         console.log(\"futureDate\", futureDate);\n//         this.state.seconds = (futureDate.getTime() - currentDate.getTime())/1000;\n//         console.log(\"Seconds:\",this.state.seconds)\n//       }\n//     })\n//   };\n//   startTimer = () => {\n//     if (this.timer == 0 && this.state.seconds > 0) {\n//       this.timer = setInterval(this.countDown, 1000);\n//     }\n//   };\n//   countDown = () => {\n//     let seconds = this.state.seconds - 1;\n//     this.setState({\n//       time: this.secondsToTime(seconds),\n//       seconds: seconds\n//     });\n//     if (seconds == 0) {\n//       clearInterval(this.timer);\n//       console.log(\"Time Up\");\n//     }\n//   };\n//   render() {\n//     return (\n//       <div>\n//         {this.startTimer()}\n//         <h3>\n//           {this.state.time.h} : {this.state.time.m} :{\" \"}\n//           {this.state.time.s}\n//         </h3>\n//       </div>\n//     );\n//   }\n// }\n// const mapStateToProps = state => ({\n//   chapter : state.chapter,\n//   trainer : state.trainer\n// });\n// export default connect(mapStateToProps,{\n//   ChangeTestSearchText,\n//   ChangeTestTableData,\n//   ChangeTestModalState,\n//   ChangeMaterialSearchText,\n//   ChangeMaterialTableData,\n//   ChangeMaterialModalState,\n// })(Counter);","map":{"version":3,"names":["React","Component","useState","useEffect","useRef","ChangeTestSearchText","ChangeTestTableData","ChangeTestModalState","ChangeMaterialSearchText","ChangeMaterialTableData","ChangeMaterialModalState","connect","Counter","props","Clean","timer","setTimer","getTimer","e","futureDate","Date","chapter","testTableData","complationDate","total","parse","seconds","Math","floor","minutes","hours","initialTimer","concat","clearTimer","current","clearInterval","id","setInterval","getLimite","Limite","setSeconds","getSeconds","mapStateToProps","state","trainer"],"sources":["C:/React_project/EduTest/frontend/src/components/customer/Testing/Counter.js"],"sourcesContent":["import React, { Component, useState, useEffect, useRef } from \"react\";\r\nimport { \r\n  ChangeTestSearchText,\r\n  ChangeTestTableData,\r\n  ChangeTestModalState,\r\n  ChangeMaterialSearchText,\r\n  ChangeMaterialTableData,\r\n  ChangeMaterialModalState,\r\n} from '../../../actions/chapterAction';\r\nimport { connect } from 'react-redux';\r\n// import classes from \"./Quiz.module.css\";\r\n\r\nfunction Counter(props) {\r\n  const Clean = useRef(null);\r\n\r\n  const [timer, setTimer] = useState(\"00:00:00\");\r\n\r\n  const getTimer = (e) => {\r\n    var futureDate = new Date(props.chapter.testTableData.complationDate);\r\n    const total = Date.parse(futureDate) - Date.parse(new Date());\r\n    const seconds = Math.floor((total / 1000) % 60);\r\n    const minutes = Math.floor((total / 1000 / 60) % 60);\r\n    const hours = Math.floor(((total / 1000) * 60 * 60) % 24);\r\n    return {\r\n      total,\r\n      seconds,\r\n      minutes,\r\n      hours\r\n    };\r\n  };\r\n\r\n  const initialTimer = (e) => {\r\n    const { total, hours, minutes, seconds } = getTimer(e);\r\n    if (total >= 0) {\r\n      setTimer(\r\n        (hours > 9 ? hours : `0${hours}`).concat(\":\") +\r\n          (minutes > 9 ? minutes : `0${minutes}`).concat(\":\") +\r\n          (seconds > 9 ? seconds : `0${seconds}`)\r\n      );\r\n    }\r\n  };\r\n\r\n  const clearTimer = (e) => {\r\n    setTimer(\"00:00:00\");\r\n\r\n    if (Clean.current) clearInterval(Clean.current);\r\n    const id = setInterval(() => {\r\n      initialTimer(e);\r\n    }, 1000);\r\n    Clean.current = id;\r\n  };\r\n\r\n  const getLimite = () => {\r\n    const Limite = new Date();\r\n    Limite.setSeconds(Limite.getSeconds());\r\n    return Limite;\r\n  };\r\n\r\n  useEffect(() => {\r\n    props.ChangeTestTableData(props.id);\r\n    props.ChangeMaterialTableData(props.id);\r\n    clearTimer(getLimite());\r\n  }, []);\r\n\r\n  // const Reset = () => {\r\n  //   limparTimer(getLimite());\r\n  // };\r\n\r\n  return (\r\n    <div>\r\n      <h2>{timer}</h2>\r\n      {/* <button\r\n        onClick={() => {\r\n          Reset();\r\n        }}>\r\n        Reniciar\r\n      </button> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  chapter : state.chapter,\r\n  trainer : state.trainer\r\n});\r\n\r\nexport default connect(mapStateToProps,{\r\n  ChangeTestSearchText,\r\n  ChangeTestTableData,\r\n  ChangeTestModalState,\r\n  ChangeMaterialSearchText,\r\n  ChangeMaterialTableData,\r\n  ChangeMaterialModalState,\r\n})(Counter);\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React, { Component } from \"react\";\r\n// import { \r\n//   ChangeTestSearchText,\r\n//   ChangeTestTableData,\r\n//   ChangeTestModalState,\r\n//   ChangeMaterialSearchText,\r\n//   ChangeMaterialTableData,\r\n//   ChangeMaterialModalState,\r\n// } from '../../../actions/chapterAction';\r\n// import { connect } from 'react-redux';\r\n// // import classes from \"./Quiz.module.css\";\r\n// class Counter extends Component {\r\n//   constructor() {\r\n//     super();\r\n//     this.state = { \r\n//       time: {}, \r\n//       seconds: 0,\r\n//       startDate : null,\r\n//       endDate: null,\r\n//     };\r\n//     this.timer = 0;\r\n//   }\r\n\r\n//   secondsToTime = secs => {\r\n//     let hours = Math.floor(secs / (60 * 60));\r\n\r\n//     let divisor_for_minutes = secs % (60 * 60);\r\n//     let minutes = Math.floor(divisor_for_minutes / 60);\r\n\r\n//     let divisor_for_seconds = divisor_for_minutes % 60;\r\n//     let seconds = Math.ceil(divisor_for_seconds);\r\n\r\n//     let obj = {\r\n//       h: hours,\r\n//       m: minutes,\r\n//       s: seconds\r\n//     };\r\n//     return obj;\r\n//   };\r\n\r\n//   componentDidMount = () => {\r\n//     this.props.ChangeTestTableData(this.props.id);\r\n//     this.props.ChangeMaterialTableData(this.props.id);\r\n//     let timeLeftVar = this.secondsToTime(this.state.seconds);\r\n//     this.setState({ time: timeLeftVar });\r\n\r\n//     console.log(\"IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII:\",this.props.chapter.materialTableData)\r\n\r\n//     this.props.chapter.materialTableData.map((d, i) =>{\r\n//       if(this.props.id === d._id){\r\n//         var minutesToAdd=d.duration;\r\n//         var currentDate = new Date();\r\n//         console.log('currentDate', currentDate);\r\n//         var futureDate = new Date(this.props.chapter.testTableData.complationDate);\r\n//         console.log(\"futureDate\", futureDate);\r\n//         this.state.seconds = (futureDate.getTime() - currentDate.getTime())/1000;\r\n//         console.log(\"Seconds:\",this.state.seconds)\r\n//       }\r\n//     })\r\n//   };\r\n\r\n//   startTimer = () => {\r\n//     if (this.timer == 0 && this.state.seconds > 0) {\r\n//       this.timer = setInterval(this.countDown, 1000);\r\n//     }\r\n//   };\r\n\r\n//   countDown = () => {\r\n//     let seconds = this.state.seconds - 1;\r\n//     this.setState({\r\n//       time: this.secondsToTime(seconds),\r\n//       seconds: seconds\r\n//     });\r\n//     if (seconds == 0) {\r\n//       clearInterval(this.timer);\r\n//       console.log(\"Time Up\");\r\n//     }\r\n//   };\r\n//   render() {\r\n\r\n//     return (\r\n//       <div>\r\n//         {this.startTimer()}\r\n//         <h3>\r\n//           {this.state.time.h} : {this.state.time.m} :{\" \"}\r\n//           {this.state.time.s}\r\n//         </h3>\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// const mapStateToProps = state => ({\r\n//   chapter : state.chapter,\r\n//   trainer : state.trainer\r\n// });\r\n\r\n// export default connect(mapStateToProps,{\r\n//   ChangeTestSearchText,\r\n//   ChangeTestTableData,\r\n//   ChangeTestModalState,\r\n//   ChangeMaterialSearchText,\r\n//   ChangeMaterialTableData,\r\n//   ChangeMaterialModalState,\r\n// })(Counter);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}