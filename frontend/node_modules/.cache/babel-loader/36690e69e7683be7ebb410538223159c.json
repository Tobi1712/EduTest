{"ast":null,"code":"var _jsxFileName = \"C:\\\\React_project\\\\EduTest\\\\frontend\\\\src\\\\components\\\\customer\\\\Testing\\\\Counter.js\";\nimport React, { Component } from \"react\";\nimport { ChangeTestSearchText, ChangeTestTableData, ChangeTestModalState } from '../../../actions/chapterAction';\nimport { connect } from 'react-redux'; // import classes from \"./Quiz.module.css\";\n\nclass Counter extends Component {\n  constructor() {\n    super();\n\n    this.secondsToTime = secs => {\n      let hours = Math.floor(secs / (60 * 60));\n      let divisor_for_minutes = secs % (60 * 60);\n      let minutes = Math.floor(divisor_for_minutes / 60);\n      let divisor_for_seconds = divisor_for_minutes % 60;\n      let seconds = Math.ceil(divisor_for_seconds);\n      let obj = {\n        h: hours,\n        m: minutes,\n        s: seconds\n      };\n      return obj;\n    };\n\n    this.componentDidMount = () => {\n      this.props.ChangeTestTableData(this.props.id[0]);\n      let timeLeftVar = this.secondsToTime(this.state.seconds);\n      this.setState({\n        time: timeLeftVar\n      });\n      console.log(\"IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII:\", this.props.chapter.materialTableData[0]._id);\n      this.props.chapter.materialTableData.map((d, i) => {\n        console.log(d._id); // if(this.props.id[0] = d._id)\n      });\n      const _this$state = this.state,\n            startDate = _this$state.startDate,\n            endDate = _this$state.endDate;\n      this.state.startDate = this.props.chapter.testTableData.startDate;\n      var minutesToAdd = 30;\n      var currentDate = new Date(this.props.chapter.testTableData.complationDate);\n      var futureDate = new Date(currentDate.getTime() + minutesToAdd * 60000);\n      this.state.seconds = (futureDate.getTime() - currentDate.getTime()) / 1000;\n      console.log(this.state.seconds);\n    };\n\n    this.startTimer = () => {\n      if (this.timer == 0 && this.state.seconds > 0) {\n        this.timer = setInterval(this.countDown, 1000);\n      }\n    };\n\n    this.countDown = () => {\n      let seconds = this.state.seconds - 1;\n      this.setState({\n        time: this.secondsToTime(seconds),\n        seconds: seconds\n      });\n\n      if (seconds == 0) {\n        clearInterval(this.timer);\n        console.log(\"Time Up\");\n      }\n    };\n\n    this.state = {\n      time: {},\n      seconds: 7200,\n      startDate: null,\n      endDate: null\n    };\n    this.timer = 0;\n  }\n\n  render() {\n    // const {startDate, endDate} = this.state;\n    // this.state.startDate = this.props.chapter.testTableData.startDate;\n    // var minutesToAdd=30;\n    //   var currentDate = new Date(this.props.chapter.testTableData.complationDate);\n    //   var futureDate = new Date(currentDate.getTime() + minutesToAdd*60000)\n    // // this.state.endDate = new Date(this.props.chapter.testTableData.complationDate.getTime() + 30*60000);\n    // this.state.seconds = (futureDate.getTime() - currentDate.getTime())/1000;\n    // console.log(this.state.seconds)\n    // console.log(this.props.chapter.testTableData.startDate)\n    // console.log(currentDate.getTime());\n    // console.log(startDate);\n    // console.log(futureDate);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.startTimer(), /*#__PURE__*/React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.state.time.h, \" : \", this.state.time.m, \" :\", \" \", this.state.time.s));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  chapter: state.chapter,\n  trainer: state.trainer\n});\n\nexport default connect(mapStateToProps, {\n  ChangeTestSearchText,\n  ChangeTestTableData,\n  ChangeTestModalState\n})(Counter);","map":{"version":3,"names":["React","Component","ChangeTestSearchText","ChangeTestTableData","ChangeTestModalState","connect","Counter","constructor","secondsToTime","secs","hours","Math","floor","divisor_for_minutes","minutes","divisor_for_seconds","seconds","ceil","obj","h","m","s","componentDidMount","props","id","timeLeftVar","state","setState","time","console","log","chapter","materialTableData","_id","map","d","i","startDate","endDate","testTableData","minutesToAdd","currentDate","Date","complationDate","futureDate","getTime","startTimer","timer","setInterval","countDown","clearInterval","render","mapStateToProps","trainer"],"sources":["C:/React_project/EduTest/frontend/src/components/customer/Testing/Counter.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { \r\n  ChangeTestSearchText,\r\n  ChangeTestTableData,\r\n  ChangeTestModalState,\r\n} from '../../../actions/chapterAction';\r\nimport { connect } from 'react-redux';\r\n// import classes from \"./Quiz.module.css\";\r\nclass Counter extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { \r\n      time: {}, \r\n      seconds: 7200,\r\n      startDate : null,\r\n      endDate: null,\r\n    };\r\n    this.timer = 0;\r\n  }\r\n\r\n  secondsToTime = secs => {\r\n    let hours = Math.floor(secs / (60 * 60));\r\n\r\n    let divisor_for_minutes = secs % (60 * 60);\r\n    let minutes = Math.floor(divisor_for_minutes / 60);\r\n\r\n    let divisor_for_seconds = divisor_for_minutes % 60;\r\n    let seconds = Math.ceil(divisor_for_seconds);\r\n\r\n    let obj = {\r\n      h: hours,\r\n      m: minutes,\r\n      s: seconds\r\n    };\r\n    return obj;\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.props.ChangeTestTableData(this.props.id[0]);\r\n    let timeLeftVar = this.secondsToTime(this.state.seconds);\r\n    this.setState({ time: timeLeftVar });\r\n\r\n    console.log(\"IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII:\",this.props.chapter.materialTableData[0]._id)\r\n\r\n    this.props.chapter.materialTableData.map((d, i) =>{\r\n      console.log(d._id)\r\n      // if(this.props.id[0] = d._id)\r\n    })\r\n    \r\n    const {startDate, endDate} = this.state;\r\n    this.state.startDate = this.props.chapter.testTableData.startDate;\r\n    var minutesToAdd=30;\r\n    var currentDate = new Date(this.props.chapter.testTableData.complationDate);\r\n    var futureDate = new Date(currentDate.getTime() + minutesToAdd*60000)\r\n\r\n    this.state.seconds = (futureDate.getTime() - currentDate.getTime())/1000;\r\n    console.log(this.state.seconds)\r\n    \r\n  };\r\n\r\n  startTimer = () => {\r\n    if (this.timer == 0 && this.state.seconds > 0) {\r\n      this.timer = setInterval(this.countDown, 1000);\r\n    }\r\n  };\r\n\r\n  countDown = () => {\r\n    let seconds = this.state.seconds - 1;\r\n    this.setState({\r\n      time: this.secondsToTime(seconds),\r\n      seconds: seconds\r\n    });\r\n    if (seconds == 0) {\r\n      clearInterval(this.timer);\r\n      console.log(\"Time Up\");\r\n    }\r\n  };\r\n  render() {\r\n    // const {startDate, endDate} = this.state;\r\n    // this.state.startDate = this.props.chapter.testTableData.startDate;\r\n    // var minutesToAdd=30;\r\n    //   var currentDate = new Date(this.props.chapter.testTableData.complationDate);\r\n    //   var futureDate = new Date(currentDate.getTime() + minutesToAdd*60000)\r\n    // // this.state.endDate = new Date(this.props.chapter.testTableData.complationDate.getTime() + 30*60000);\r\n\r\n    // this.state.seconds = (futureDate.getTime() - currentDate.getTime())/1000;\r\n    // console.log(this.state.seconds)\r\n    // console.log(this.props.chapter.testTableData.startDate)\r\n    // console.log(currentDate.getTime());\r\n    // console.log(startDate);\r\n    // console.log(futureDate);\r\n    return (\r\n      <div>\r\n        {this.startTimer()}\r\n        <h3>\r\n          {this.state.time.h} : {this.state.time.m} :{\" \"}\r\n          {this.state.time.s}\r\n        </h3>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  chapter : state.chapter,\r\n  trainer : state.trainer\r\n});\r\n\r\nexport default connect(mapStateToProps,{\r\n  ChangeTestSearchText,\r\n  ChangeTestTableData,\r\n  ChangeTestModalState,\r\n})(Counter);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}